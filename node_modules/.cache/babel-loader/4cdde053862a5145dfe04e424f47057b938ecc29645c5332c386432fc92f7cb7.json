{"ast":null,"code":"var _jsxFileName = \"/Users/aayushagarwal/Valentines Day Puzzle/valentine-quest/src/components/PuzzleGame.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Draggable from 'react-draggable';\nimport { motion } from 'framer-motion';\nimport './PuzzleGame.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialPieces = [{\n  id: 1,\n  image: '/images/piece1.png',\n  // Ensure this image is placed in public/images/\n  x: Math.random() * 200,\n  y: Math.random() * 200,\n  target: {\n    x: 50,\n    y: 50\n  },\n  width: 100,\n  height: 100,\n  locked: false\n}, {\n  id: 2,\n  image: '/images/piece2.png',\n  x: Math.random() * 200,\n  y: Math.random() * 200,\n  target: {\n    x: 160,\n    y: 50\n  },\n  width: 100,\n  height: 100,\n  locked: false\n}, {\n  id: 3,\n  image: '/images/piece3.png',\n  x: Math.random() * 200,\n  y: Math.random() * 200,\n  target: {\n    x: 50,\n    y: 160\n  },\n  width: 100,\n  height: 100,\n  locked: false\n}, {\n  id: 4,\n  image: '/images/piece4.png',\n  x: Math.random() * 200,\n  y: Math.random() * 200,\n  target: {\n    x: 160,\n    y: 160\n  },\n  width: 100,\n  height: 100,\n  locked: false\n}];\nfunction PuzzleGame({\n  onComplete\n}) {\n  _s();\n  const [pieces, setPieces] = useState(initialPieces);\n  const [puzzleComplete, setPuzzleComplete] = useState(false);\n  const handleDragStop = (id, e, data) => {\n    setPieces(prevPieces => prevPieces.map(piece => {\n      if (piece.id === id) {\n        const deltaX = Math.abs(data.x - piece.target.x);\n        const deltaY = Math.abs(data.y - piece.target.y);\n        if (deltaX < 20 && deltaY < 20) {\n          // Snap the piece into place\n          return {\n            ...piece,\n            x: piece.target.x,\n            y: piece.target.y,\n            locked: true\n          };\n        }\n        return {\n          ...piece,\n          x: data.x,\n          y: data.y\n        };\n      }\n      return piece;\n    }));\n  };\n\n  // Check if all puzzle pieces are locked into place.\n  useEffect(() => {\n    if (pieces.every(piece => piece.locked)) {\n      // Delay the complete state for a smooth user experience.\n      const timer = setTimeout(() => {\n        setPuzzleComplete(true);\n      }, 500);\n      return () => clearTimeout(timer);\n    }\n  }, [pieces]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"puzzle-container\",\n    children: [pieces.map(piece => /*#__PURE__*/_jsxDEV(Draggable, {\n      position: {\n        x: piece.x,\n        y: piece.y\n      },\n      disabled: piece.locked,\n      onStop: (e, data) => handleDragStop(piece.id, e, data),\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        className: `puzzle-piece ${piece.locked ? 'locked' : ''}`,\n        style: {\n          width: piece.width,\n          height: piece.height,\n          backgroundImage: `url(${piece.image})`\n        },\n        whileHover: {\n          scale: 1.05\n        },\n        whileTap: {\n          scale: 0.95\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, piece.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)), puzzleComplete && /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"complete-overlay\",\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Great job!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You unlocked the hidden message: \\\"Great job! Now, let\\u2019s walk through our love story!\\\"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onComplete,\n        children: \"Next Stage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n_s(PuzzleGame, \"17AIyDB1MySbTP2iVXTROSTtqkc=\");\n_c = PuzzleGame;\nexport default PuzzleGame;\nvar _c;\n$RefreshReg$(_c, \"PuzzleGame\");","map":{"version":3,"names":["React","useState","useEffect","Draggable","motion","jsxDEV","_jsxDEV","initialPieces","id","image","x","Math","random","y","target","width","height","locked","PuzzleGame","onComplete","_s","pieces","setPieces","puzzleComplete","setPuzzleComplete","handleDragStop","e","data","prevPieces","map","piece","deltaX","abs","deltaY","every","timer","setTimeout","clearTimeout","className","children","position","disabled","onStop","div","style","backgroundImage","whileHover","scale","whileTap","fileName","_jsxFileName","lineNumber","columnNumber","initial","opacity","animate","onClick","_c","$RefreshReg$"],"sources":["/Users/aayushagarwal/Valentines Day Puzzle/valentine-quest/src/components/PuzzleGame.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Draggable from 'react-draggable';\nimport { motion } from 'framer-motion';\nimport './PuzzleGame.css';\n\nconst initialPieces = [\n  {\n    id: 1,\n    image: '/images/piece1.png', // Ensure this image is placed in public/images/\n    x: Math.random() * 200,\n    y: Math.random() * 200,\n    target: { x: 50, y: 50 },\n    width: 100,\n    height: 100,\n    locked: false,\n  },\n  {\n    id: 2,\n    image: '/images/piece2.png',\n    x: Math.random() * 200,\n    y: Math.random() * 200,\n    target: { x: 160, y: 50 },\n    width: 100,\n    height: 100,\n    locked: false,\n  },\n  {\n    id: 3,\n    image: '/images/piece3.png',\n    x: Math.random() * 200,\n    y: Math.random() * 200,\n    target: { x: 50, y: 160 },\n    width: 100,\n    height: 100,\n    locked: false,\n  },\n  {\n    id: 4,\n    image: '/images/piece4.png',\n    x: Math.random() * 200,\n    y: Math.random() * 200,\n    target: { x: 160, y: 160 },\n    width: 100,\n    height: 100,\n    locked: false,\n  },\n];\n\nfunction PuzzleGame({ onComplete }) {\n  const [pieces, setPieces] = useState(initialPieces);\n  const [puzzleComplete, setPuzzleComplete] = useState(false);\n\n  const handleDragStop = (id, e, data) => {\n    setPieces((prevPieces) =>\n      prevPieces.map((piece) => {\n        if (piece.id === id) {\n          const deltaX = Math.abs(data.x - piece.target.x);\n          const deltaY = Math.abs(data.y - piece.target.y);\n          if (deltaX < 20 && deltaY < 20) {\n            // Snap the piece into place\n            return { ...piece, x: piece.target.x, y: piece.target.y, locked: true };\n          }\n          return { ...piece, x: data.x, y: data.y };\n        }\n        return piece;\n      })\n    );\n  };\n\n  // Check if all puzzle pieces are locked into place.\n  useEffect(() => {\n    if (pieces.every((piece) => piece.locked)) {\n      // Delay the complete state for a smooth user experience.\n      const timer = setTimeout(() => {\n        setPuzzleComplete(true);\n      }, 500);\n      return () => clearTimeout(timer);\n    }\n  }, [pieces]);\n\n  return (\n    <div className=\"puzzle-container\">\n      {pieces.map((piece) => (\n        <Draggable\n          key={piece.id}\n          position={{ x: piece.x, y: piece.y }}\n          disabled={piece.locked}\n          onStop={(e, data) => handleDragStop(piece.id, e, data)}\n        >\n          <motion.div\n            className={`puzzle-piece ${piece.locked ? 'locked' : ''}`}\n            style={{\n              width: piece.width,\n              height: piece.height,\n              backgroundImage: `url(${piece.image})`,\n            }}\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n          />\n        </Draggable>\n      ))}\n      {puzzleComplete && (\n        <motion.div\n          className=\"complete-overlay\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n        >\n          <h2>Great job!</h2>\n          <p>\n            You unlocked the hidden message: \"Great job! Now, letâ€™s walk through our love story!\"\n          </p>\n          <button onClick={onComplete}>Next Stage</button>\n        </motion.div>\n      )}\n    </div>\n  );\n}\n\nexport default PuzzleGame;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}